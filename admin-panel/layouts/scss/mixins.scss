@use 'sass:list';
@use 'sass:math';
@use 'sass:meta';

@mixin desktop($property, $values, $breakpoint: 1024px) {
  $vw-list: ();

  @each $val in $values {
    @if meta.type-of($val) == 'string' {
      // CSS 키워드 (none, auto, inherit 등) - 그대로 유지
      $vw-list: list.append($vw-list, $val);
    } @else if meta.type-of($val) == 'number' and math.unit($val) == 'px' {
      // px → vw 변환 (1320px 기준) - 디자인 컨텐츠가 1320이므로.
      $vw-value: math.div($val, 1320px) * 100vw;
      $vw-list: list.append($vw-list, #{$vw-value});
    } @else if meta.type-of($val) == 'number' and math.unit($val) == null {
      // 단위가 없는 숫자 - 그대로 유지
      $vw-list: list.append($vw-list, $val);
    } @else {
      // px 아닌 다른 단위 값은 그대로
      $vw-list: list.append($vw-list, $val);
    }
  }
  #{$property}: $values;
  @media (max-width: 1320px) and (min-width: $breakpoint) {
    #{$property}: $vw-list;
  }
}

@mixin mobile($property, $values, $breakpoint: 1023px, $root: 16px) {
  $vw-list: ();

  @each $val in $values {
    @if meta.type-of($val) == 'string' {
      // CSS 키워드 (none, auto, inherit 등) - 그대로 유지
      $vw-list: list.append($vw-list, $val);
    } @else if meta.type-of($val) == 'number' and math.unit($val) == 'px' {
      // px → vw 변환 (360px 기준) - 디자인이 360이므로.
      $vw-value: math.div($val, 360px) * 100vw;
      $vw-list: list.append($vw-list, #{$vw-value});
    } @else if meta.type-of($val) == 'number' and math.unit($val) == null {
      // 단위가 없는 숫자 - 그대로 유지
      $vw-list: list.append($vw-list, $val);
    } @else {
      // px 아닌 다른 단위 값은 그대로
      $vw-list: list.append($vw-list, $val);
    }
  }

  @media (max-width: $breakpoint) {
    #{$property}: $vw-list;
  }
}
